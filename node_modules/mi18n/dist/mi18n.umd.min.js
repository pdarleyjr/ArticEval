
/**
mi18n - https://github.com/Draggable/mi18n
Version: 1.0.2
Author: Draggable https://draggable.io
*/

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).mi18n={})}(this,(function(e){"use strict";const t={},n=Object.freeze({method:"GET",body:""});const s=(e,t)=>{const n=[];e.on("data",(e=>n.push(e))),e.on("end",(()=>{const s=Buffer.concat(n),o={ok:e.statusCode>=200&&e.statusCode<300,status:e.statusCode,statusText:e.statusMessage,headers:new Map(Object.entries(e.headers)),body:s,arrayBuffer:()=>Promise.resolve(s),json:()=>Promise.resolve(JSON.parse(s.toString()))};t(o)}))},o={extension:".lang",location:"assets/lang/",langs:["en-US"],locale:"en-US",override:{}};class a{constructor(e=o){this.langs=Object.create(null),this.loaded=[],this.processConfig(e)}processConfig(e){const{location:t,...n}={...o,...e},s=t.replace(/\/?$/,"/");this.config={location:s,...n};const{override:a,preloaded:i={}}=this.config,r=Object.entries(this.langs).concat(Object.entries(a||i));this.langs=r.reduce(((e,[t,n])=>(e[t]=this.applyLanguage(t,n),e)),{}),this.locale=this.config.locale||this.config.langs[0]}init(e){return this.processConfig({...this.config,...e}),this.setCurrent(this.locale)}addLanguage(e,t={}){t="string"==typeof t?a.processFile(t):t,this.applyLanguage(e,t),this.config.langs.push("locale")}getValue(e,t=this.locale){var n;return(null==(n=this.langs[t])?void 0:n[e])||this.getFallbackValue(e)}getFallbackValue(e){const t=Object.values(this.langs).find((t=>t[e]));return null==t?void 0:t[e]}makeSafe(e){const t={"{":"\\{","}":"\\}","|":"\\|"};return e=e.replace(/[{}|]/g,(e=>t[e])),new RegExp(e,"g")}put(e,t){return this.current[e]=t,t}get(e,t){const n=this;let s=this.getValue(e);if(!s)return;const o=s.match(/\{[^}]+?\}/g);if(t&&o)if("object"==typeof t)for(const a of o){const e=a.substring(1,a.length-1);s=s.replace(n.makeSafe(a),t[e]||"")}else s=s.replace(/\{[^}]+?\}/g,t);return s}static processFile(e){return a.fromFile(e.replace(/\n\n/g,"\n"))}static fromFile(e){const t=e.split("\n"),n={};for(let s,o=0;o<t.length;o++){s=/^(.+?) *?= *?([^\n]+)/.exec(t[o]),s&&(n[s[1]]=s[2].replace(/(^\s+|\s+$)/g,""))}return n}loadLang(e,o=!0){const a=this;return new Promise((function(i,r){if(-1!==a.loaded.indexOf(e)&&o)return a.applyLanguage(a.langs[e]),i(a.langs[e]);return function(e,o={}){const a={...n,...o},i=(e.startsWith("https"),t);return new Promise(((t,n)=>{const o=i.request(e,a,(e=>{s(e,t)}));o.on("error",(e=>n(new Error(e.message)))),(null==a?void 0:a.body)&&o.write(a.body),o.end()}))}([a.config.location,e,a.config.extension].join("")).then((({data:t})=>{const n=a.processFile(t);return a.applyLanguage(e,n),a.loaded.push(e),i(a.langs[e])})).catch((()=>{const t=a.applyLanguage(e);i(t)}))}))}applyLanguage(e,t={}){const n=this.config.override[e]||{},s=this.langs[e]||{};return this.langs[e]={...s,...t,...n},this.langs[e]}get getLangs(){return this.config.langs}async setCurrent(e="en-US"){return await this.loadLang(e),this.locale=e,this.current=this.langs[e],this.current}}const i=new a;e.I18N=a,e.default=i,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWkxOG4udW1kLm1pbi5qcyIsInNvdXJjZXMiOlsiLi4vX192aXRlLWJyb3dzZXItZXh0ZXJuYWwiLCIuLi9zcmMvZmV0Y2guanMiLCIuLi9zcmMvbWkxOG4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge30iLCJpbXBvcnQgaHR0cHMgZnJvbSAnaHR0cHMnXG5pbXBvcnQgaHR0cCBmcm9tICdodHRwJ1xuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IE9iamVjdC5mcmVlemUoeyBtZXRob2Q6ICdHRVQnLCBib2R5OiAnJyB9KVxuLyoqXG4gKiBGZXRjaGVzIGEgcmVzb3VyY2UgZnJvbSB0aGUgbmV0d29yay5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIFVSTCB0byBmZXRjaC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbZmV0Y2hPcHRpb25zPXt9XSAtIFRoZSBvcHRpb25zIGZvciB0aGUgZmV0Y2ggcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbZmV0Y2hPcHRpb25zLmhlYWRlcnNdIC0gSGVhZGVycyB0byBpbmNsdWRlIGluIHRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtzdHJpbmd9IFtmZXRjaE9wdGlvbnMubWV0aG9kXSAtIFRoZSBIVFRQIG1ldGhvZCB0byB1c2UgKGUuZy4sICdHRVQnLCAnUE9TVCcpLlxuICogQHBhcmFtIHtzdHJpbmd8QnVmZmVyfSBbZmV0Y2hPcHRpb25zLmJvZHldIC0gVGhlIGJvZHkgb2YgdGhlIHJlcXVlc3QuXG4gKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdD59IEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSByZXNwb25zZSBvYmplY3QuXG4gKiBAcmV0dXJuIHtib29sZWFufSByZXR1cm4ub2sgLSBJbmRpY2F0ZXMgaWYgdGhlIHJlc3BvbnNlIHN0YXR1cyBpcyBpbiB0aGUgcmFuZ2UgMjAwLTI5OS5cbiAqIEByZXR1cm4ge251bWJlcn0gcmV0dXJuLnN0YXR1cyAtIFRoZSBIVFRQIHN0YXR1cyBjb2RlIG9mIHRoZSByZXNwb25zZS5cbiAqIEByZXR1cm4ge3N0cmluZ30gcmV0dXJuLnN0YXR1c1RleHQgLSBUaGUgSFRUUCBzdGF0dXMgbWVzc2FnZSBvZiB0aGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJuIHtNYXA8c3RyaW5nLCBzdHJpbmc+fSByZXR1cm4uaGVhZGVycyAtIFRoZSBoZWFkZXJzIG9mIHRoZSByZXNwb25zZS5cbiAqIEByZXR1cm4ge0J1ZmZlcn0gcmV0dXJuLmJvZHkgLSBUaGUgYm9keSBvZiB0aGUgcmVzcG9uc2UgYXMgYSBCdWZmZXIuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbigpOiBQcm9taXNlPEJ1ZmZlcj59IHJldHVybi5hcnJheUJ1ZmZlciAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgcHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIGJvZHkgYXMgYW4gQXJyYXlCdWZmZXIuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbigpOiBQcm9taXNlPE9iamVjdD59IHJldHVybi5qc29uIC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBwcm9taXNlIHJlc29sdmluZyB0byB0aGUgYm9keSBwYXJzZWQgYXMgSlNPTi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZldGNoKHVybCwgZmV0Y2hPcHRpb25zID0ge30pIHtcbiAgY29uc3Qgb3B0aW9ucyA9IHsgLi4uZGVmYXVsdE9wdGlvbnMsIC4uLmZldGNoT3B0aW9ucyB9XG4gIGNvbnN0IGhhbmRsZXIgPSB1cmwuc3RhcnRzV2l0aCgnaHR0cHMnKSA/IGh0dHBzIDogaHR0cFxuXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IGhhbmRsZXIucmVxdWVzdCh1cmwsIG9wdGlvbnMsIHJlc3BvbnNlID0+IHtcbiAgICAgIHByb2Nlc3NSZXNwb25zZShyZXNwb25zZSwgcmVzb2x2ZSlcbiAgICB9KVxuXG4gICAgcmVxdWVzdC5vbignZXJyb3InLCBlcnJvciA9PiByZWplY3QobmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpKSlcbiAgICBpZiAob3B0aW9ucz8uYm9keSkgcmVxdWVzdC53cml0ZShvcHRpb25zLmJvZHkpXG4gICAgcmVxdWVzdC5lbmQoKVxuICB9KVxufVxuXG5jb25zdCBwcm9jZXNzUmVzcG9uc2UgPSAocmVzcG9uc2UsIG9uRW5kKSA9PiB7XG4gIGNvbnN0IGRhdGEgPSBbXVxuICByZXNwb25zZS5vbignZGF0YScsIGNodW5rID0+IGRhdGEucHVzaChjaHVuaykpXG4gIHJlc3BvbnNlLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgY29uc3QgYm9keUJ1ZmZlciA9IEJ1ZmZlci5jb25jYXQoZGF0YSlcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICBvazogcmVzcG9uc2Uuc3RhdHVzQ29kZSA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzQ29kZSA8IDMwMCxcbiAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzQ29kZSxcbiAgICAgIHN0YXR1c1RleHQ6IHJlc3BvbnNlLnN0YXR1c01lc3NhZ2UsXG4gICAgICBoZWFkZXJzOiBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKHJlc3BvbnNlLmhlYWRlcnMpKSxcbiAgICAgIGJvZHk6IGJvZHlCdWZmZXIsXG4gICAgICBhcnJheUJ1ZmZlcjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKGJvZHlCdWZmZXIpLFxuICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKEpTT04ucGFyc2UoYm9keUJ1ZmZlci50b1N0cmluZygpKSksXG4gICAgfVxuICAgIG9uRW5kKHJlc3VsdClcbiAgfSlcbn1cbiIsImltcG9ydCB7IGZldGNoIH0gZnJvbSAnLi9mZXRjaC5qcydcblxuY29uc3QgREVGQVVMVF9DT05GSUcgPSB7XG4gIGV4dGVuc2lvbjogJy5sYW5nJyxcbiAgLy8gbG9jYWwgb3IgcmVtb3RlIGRpcmVjdG9yeSBjb250YWluaW5nIGxhbmd1YWdlIGZpbGVzXG4gIGxvY2F0aW9uOiAnYXNzZXRzL2xhbmcvJyxcbiAgLy8gbGlzdCBvZiBhdmFpbGFibGUgbG9jYWxlcywgaGFuZHkgZm9yIHBvcHVsYXRpbmcgc2VsZWN0b3IuXG4gIGxhbmdzOiBbJ2VuLVVTJ10sXG4gIGxvY2FsZTogJ2VuLVVTJywgLy8gaW5pdCB3aXRoIHVzZXIncyBwcmVmZXJyZWQgbGFuZ3VhZ2VcbiAgb3ZlcnJpZGU6IHt9LFxufVxuXG4vKipcbiAqIE1haW4gbWkxOG4gY2xhc3NcbiAqIEBjbGFzcyBJMThOXG4gKiBAY2xhc3NkZXNjIG1ldGhvZHMgYW5kIGRhdGEgc3RvcmUgZm9yIG1pMThuXG4gKi9cbmV4cG9ydCBjbGFzcyBJMThOIHtcbiAgLyoqXG4gICAqIFByb2Nlc3Mgb3B0aW9ucyBhbmQgc3RhcnQgdGhlIG1vZHVsZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IERFRkFVTFRfQ09ORklHKSB7XG4gICAgdGhpcy5sYW5ncyA9IE9iamVjdC5jcmVhdGUobnVsbClcbiAgICB0aGlzLmxvYWRlZCA9IFtdXG4gICAgdGhpcy5wcm9jZXNzQ29uZmlnKG9wdGlvbnMpXG4gIH1cblxuICAvKipcbiAgICogcGFyc2UgYW5kIGZvcm1hdCBjb25maWdcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICovXG4gIHByb2Nlc3NDb25maWcob3B0aW9ucykge1xuICAgIGNvbnN0IHsgbG9jYXRpb24sIC4uLnJlc3RPcHRpb25zIH0gPSB7IC4uLkRFRkFVTFRfQ09ORklHLCAuLi5vcHRpb25zIH1cbiAgICBjb25zdCBwYXJzZWRMb2NhdGlvbiA9IGxvY2F0aW9uLnJlcGxhY2UoL1xcLz8kLywgJy8nKVxuICAgIHRoaXMuY29uZmlnID0geyBsb2NhdGlvbjogcGFyc2VkTG9jYXRpb24sIC4uLnJlc3RPcHRpb25zIH1cbiAgICBjb25zdCB7IG92ZXJyaWRlLCBwcmVsb2FkZWQgPSB7fSB9ID0gdGhpcy5jb25maWdcbiAgICBjb25zdCBhbGxMYW5ncyA9IE9iamVjdC5lbnRyaWVzKHRoaXMubGFuZ3MpLmNvbmNhdChPYmplY3QuZW50cmllcyhvdmVycmlkZSB8fCBwcmVsb2FkZWQpKVxuICAgIHRoaXMubGFuZ3MgPSBhbGxMYW5ncy5yZWR1Y2UoKGFjYywgW2xvY2FsZSwgbGFuZ10pID0+IHtcbiAgICAgIGFjY1tsb2NhbGVdID0gdGhpcy5hcHBseUxhbmd1YWdlKGxvY2FsZSwgbGFuZylcbiAgICAgIHJldHVybiBhY2NcbiAgICB9LCB7fSlcbiAgICB0aGlzLmxvY2FsZSA9IHRoaXMuY29uZmlnLmxvY2FsZSB8fCB0aGlzLmNvbmZpZy5sYW5nc1swXVxuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgbGFuZ3VhZ2UgYW5kIHNldCBkZWZhdWx0XG4gICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgcmVzb2x2ZXMgbGFuZ3VhZ2VcbiAgICovXG4gIGluaXQob3B0aW9ucykge1xuICAgIHRoaXMucHJvY2Vzc0NvbmZpZyh7IC4uLnRoaXMuY29uZmlnLCAuLi5vcHRpb25zIH0pXG4gICAgcmV0dXJuIHRoaXMuc2V0Q3VycmVudCh0aGlzLmxvY2FsZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgbGFuZ3VhZ2UgdG8gdGhlIGxpc3Qgb2YgYXZhaWxhYmxlIGxhbmd1YWdlc1xuICAgKiBAcGFyYW0ge1N0cmluZ30gbG9jYWxlXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gbGFuZ1xuICAgKi9cbiAgYWRkTGFuZ3VhZ2UobG9jYWxlLCBsYW5nID0ge30pIHtcbiAgICBsYW5nID0gdHlwZW9mIGxhbmcgPT09ICdzdHJpbmcnID8gSTE4Ti5wcm9jZXNzRmlsZShsYW5nKSA6IGxhbmdcbiAgICB0aGlzLmFwcGx5TGFuZ3VhZ2UobG9jYWxlLCBsYW5nKVxuICAgIHRoaXMuY29uZmlnLmxhbmdzLnB1c2goJ2xvY2FsZScpXG4gIH1cblxuICAvKipcbiAgICogZ2V0IGEgc3RyaW5nIGZyb20gYSBsb2FkZWQgbGFuZ3VhZ2UgZmlsZVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGtleSAgLSB0aGUga2V5IGZvciB0aGUgc3RyaW5nIHdlIGFyZSB0cnlpbmcgdG8gcmV0cmlldmVcbiAgICogQHBhcmFtICB7U3RyaW5nfSBsb2NhbGUgLSBsb2NhbGUgdG8gY2hlY2sgZm9yIHZhbHVlXG4gICAqIEByZXR1cm4ge1N0cmluZ30gbGFuZ3VhZ2Ugc3RyaW5nIG9yIHVuZGVmaW5lZFxuICAgKi9cbiAgZ2V0VmFsdWUoa2V5LCBsb2NhbGUgPSB0aGlzLmxvY2FsZSkge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5sYW5nc1tsb2NhbGVdPy5ba2V5XVxuICAgIHJldHVybiB2YWx1ZSB8fCB0aGlzLmdldEZhbGxiYWNrVmFsdWUoa2V5KVxuICB9XG5cbiAgLyoqXG4gICAqIEZpbmQgYSBsYW5ndWFnZSB0aGF0IGhhcyBkZXNpcmVkIGtleVxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IHZhbHVlIGtleVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IGZvdW5kIHZhbHVlIG9yIHVuZGVmaW5lZFxuICAgKi9cbiAgZ2V0RmFsbGJhY2tWYWx1ZShrZXkpIHtcbiAgICBjb25zdCBmYWxsYmFja0xhbmcgPSBPYmplY3QudmFsdWVzKHRoaXMubGFuZ3MpLmZpbmQobGFuZyA9PiBsYW5nW2tleV0pXG4gICAgcmV0dXJuIGZhbGxiYWNrTGFuZz8uW2tleV1cbiAgfVxuXG4gIC8qKlxuICAgKiBFc2NhcGUgdmFyaWFibGUgc3ludGF4XG4gICAqIEBwYXJhbSAge1N0cmluZ30gc3RyXG4gICAqIEByZXR1cm4ge1N0cmluZ30gICAgIGVzY2FwZWQgc3RyXG4gICAqL1xuICBtYWtlU2FmZShzdHIpIHtcbiAgICBjb25zdCBtYXBPYmogPSB7XG4gICAgICAneyc6ICdcXFxceycsXG4gICAgICAnfSc6ICdcXFxcfScsXG4gICAgICAnfCc6ICdcXFxcfCcsXG4gICAgfVxuXG4gICAgc3RyID0gc3RyLnJlcGxhY2UoL1t7fXxdL2csIG1hdGNoZWQgPT4gbWFwT2JqW21hdGNoZWRdKVxuXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoc3RyLCAnZycpXG4gIH1cblxuICAvKipcbiAgICogVGVtcG9yYXJpbHkgcHV0IGEgc3RyaW5nIGludG8gdGhlIGN1cnJlbnRseSBsb2FkZWQgbGFuZ3VhZ2VcbiAgICogQHBhcmFtICB7U3RyaW5nfSBrZXlcbiAgICogQHBhcmFtICB7U3RyaW5nfSBzdHJpbmdcbiAgICogQHJldHVybiB7U3RyaW5nfSBzdHJpbmcgaW4gY3VycmVudCBsYW5ndWFnZVxuICAgKi9cbiAgcHV0KGtleSwgc3RyaW5nKSB7XG4gICAgdGhpcy5jdXJyZW50W2tleV0gPSBzdHJpbmdcblxuICAgIHJldHVybiBzdHJpbmdcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZSBhcmd1bWVudHMgZm9yIHRoZSByZXF1ZXN0ZWQgc3RyaW5nXG4gICAqIEBwYXJhbSAge1N0cmluZ30ga2V5ICB0aGUga2V5IHdlIHVzZSB0byBsb29rdXAgb3VyIHRyYW5zbGF0aW9uXG4gICAqIEBwYXJhbSAge211bHRpfSAgYXJncyAgc3RyaW5nLCBudW1iZXIgb3Igb2JqZWN0IGNvbnRhaW5pbmcgb3VyIGFyZ3VtZW50c1xuICAgKiBAcmV0dXJuIHtTdHJpbmd9ICAgICAgdXBkYXRlZCBzdHJpbmcgdHJhbnNsYXRpb25cbiAgICovXG4gIGdldChrZXksIGFyZ3MpIHtcbiAgICBjb25zdCBfdGhpcyA9IHRoaXNcbiAgICBsZXQgdmFsdWUgPSB0aGlzLmdldFZhbHVlKGtleSlcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCB0b2tlbnMgPSB2YWx1ZS5tYXRjaCgvXFx7W159XSs/XFx9L2cpXG5cbiAgICBpZiAoYXJncyAmJiB0b2tlbnMpIHtcbiAgICAgIGlmICgnb2JqZWN0JyA9PT0gdHlwZW9mIGFyZ3MpIHtcbiAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiB0b2tlbnMpIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSB0b2tlbi5zdWJzdHJpbmcoMSwgdG9rZW4ubGVuZ3RoIC0gMSlcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoX3RoaXMubWFrZVNhZmUodG9rZW4pLCBhcmdzW2tleV0gfHwgJycpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFx7W159XSs/XFx9L2csIGFyZ3MpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICAvKipcbiAgICogU3RhdGljIG1ldGhvZDogUHJvY2VzcyBhIGxhbmd1YWdlIGZpbGUgZnJvbSByYXcgdGV4dFxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHJlc3BvbnNlXG4gICAqIEByZXR1cm4ge09iamVjdH0gcHJvY2Vzc2VkIGxhbmd1YWdlXG4gICAqL1xuICBzdGF0aWMgcHJvY2Vzc0ZpbGUocmVzcG9uc2UpIHtcbiAgICByZXR1cm4gSTE4Ti5mcm9tRmlsZShyZXNwb25zZS5yZXBsYWNlKC9cXG5cXG4vZywgJ1xcbicpKVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YXRpYyBtZXRob2Q6IFR1cm4gcmF3IHRleHQgZnJvbSB0aGUgbGFuZ3VhZ2UgZmlsZXMgaW50byBmYW5jeSBKU09OXG4gICAqIEBwYXJhbSAge1N0cmluZ30gcmF3VGV4dFxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGNvbnZlcnRlZCBsYW5ndWFnZSBmaWxlXG4gICAqL1xuICBzdGF0aWMgZnJvbUZpbGUocmF3VGV4dCkge1xuICAgIGNvbnN0IGxpbmVzID0gcmF3VGV4dC5zcGxpdCgnXFxuJylcbiAgICBjb25zdCBsYW5nID0ge31cblxuICAgIGZvciAobGV0IG1hdGNoZXMsIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHJlZ2V4ID0gL14oLis/KSAqPz0gKj8oW15cXG5dKykvXG4gICAgICBtYXRjaGVzID0gcmVnZXguZXhlYyhsaW5lc1tpXSlcbiAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgIGxhbmdbbWF0Y2hlc1sxXV0gPSBtYXRjaGVzWzJdLnJlcGxhY2UoLyheXFxzK3xcXHMrJCkvZywgJycpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhbmdcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGEgcmVtb3RlbHkgc3RvcmVkIGxhbmd1YWdlIGZpbGVcbiAgICogQHBhcmFtICB7U3RyaW5nfSBsb2NhbGVcbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gdXNlQ2FjaGVcbiAgICogQHJldHVybiB7UHJvbWlzZX0gICAgICAgcmVzb2x2ZXMgcmVzcG9uc2VcbiAgICovXG4gIGxvYWRMYW5nKGxvY2FsZSwgdXNlQ2FjaGUgPSB0cnVlKSB7XG4gICAgY29uc3QgX3RoaXMgPSB0aGlzXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGlmIChfdGhpcy5sb2FkZWQuaW5kZXhPZihsb2NhbGUpICE9PSAtMSAmJiB1c2VDYWNoZSkge1xuICAgICAgICBfdGhpcy5hcHBseUxhbmd1YWdlKF90aGlzLmxhbmdzW2xvY2FsZV0pXG4gICAgICAgIHJldHVybiByZXNvbHZlKF90aGlzLmxhbmdzW2xvY2FsZV0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBsYW5nRmlsZSA9IFtfdGhpcy5jb25maWcubG9jYXRpb24sIGxvY2FsZSwgX3RoaXMuY29uZmlnLmV4dGVuc2lvbl0uam9pbignJylcbiAgICAgICAgcmV0dXJuIGZldGNoKGxhbmdGaWxlKVxuICAgICAgICAgIC50aGVuKCh7IGRhdGE6IGxhbmcgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkRmlsZSA9IF90aGlzLnByb2Nlc3NGaWxlKGxhbmcpXG4gICAgICAgICAgICBfdGhpcy5hcHBseUxhbmd1YWdlKGxvY2FsZSwgcHJvY2Vzc2VkRmlsZSlcbiAgICAgICAgICAgIF90aGlzLmxvYWRlZC5wdXNoKGxvY2FsZSlcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKF90aGlzLmxhbmdzW2xvY2FsZV0pXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGFuZyA9IF90aGlzLmFwcGx5TGFuZ3VhZ2UobG9jYWxlKVxuICAgICAgICAgICAgcmVzb2x2ZShsYW5nKVxuICAgICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBhcHBsaWVzIG92ZXJyaWRlcyBmcm9tIGNvbmZpZ1xuICAgKiBAcGFyYW0ge1N0cmluZ30gbG9jYWxlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBsYW5nXG4gICAqIEByZXR1cm4ge09iamVjdH0gb3ZlcnJpZGVuIGxhbmd1YWdlXG4gICAqL1xuICBhcHBseUxhbmd1YWdlKGxvY2FsZSwgbGFuZyA9IHt9KSB7XG4gICAgY29uc3Qgb3ZlcnJpZGUgPSB0aGlzLmNvbmZpZy5vdmVycmlkZVtsb2NhbGVdIHx8IHt9XG4gICAgY29uc3QgZXhpc3RpbmdMYW5nID0gdGhpcy5sYW5nc1tsb2NhbGVdIHx8IHt9XG4gICAgdGhpcy5sYW5nc1tsb2NhbGVdID0geyAuLi5leGlzdGluZ0xhbmcsIC4uLmxhbmcsIC4uLm92ZXJyaWRlIH1cbiAgICByZXR1cm4gdGhpcy5sYW5nc1tsb2NhbGVdXG4gIH1cblxuICAvKipcbiAgICogcmV0dXJuIGN1cnJlbnRseSBhdmFpbGFibGUgbGFuZ3VhZ2VzXG4gICAqIEByZXR1cm4ge09iamVjdH0gYWxsIGNvbmZpZ3VyZWQgbGFuZ3VhZ2VzXG4gICAqL1xuICBnZXQgZ2V0TGFuZ3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLmxhbmdzXG4gIH1cblxuICAvKipcbiAgICogQXR0ZW1wdCB0byBzZXQgdGhlIGN1cnJlbnQgbGFuZ3VhZ2UgdG8gdGhlIGxvY2FsIHByb3ZpZGVkXG4gICAqIEBwYXJhbSB7U3RyaW5nfSAgIGxvY2FsZVxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBsYW5ndWFnZVxuICAgKi9cbiAgYXN5bmMgc2V0Q3VycmVudChsb2NhbGUgPSAnZW4tVVMnKSB7XG4gICAgYXdhaXQgdGhpcy5sb2FkTGFuZyhsb2NhbGUpXG4gICAgdGhpcy5sb2NhbGUgPSBsb2NhbGVcbiAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLmxhbmdzW2xvY2FsZV1cblxuICAgIHJldHVybiB0aGlzLmN1cnJlbnRcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgSTE4TigpXG4iXSwibmFtZXMiOlsiaHR0cCIsImRlZmF1bHRPcHRpb25zIiwiT2JqZWN0IiwiZnJlZXplIiwibWV0aG9kIiwiYm9keSIsInByb2Nlc3NSZXNwb25zZSIsInJlc3BvbnNlIiwib25FbmQiLCJkYXRhIiwib24iLCJjaHVuayIsInB1c2giLCJib2R5QnVmZmVyIiwiQnVmZmVyIiwiY29uY2F0IiwicmVzdWx0Iiwib2siLCJzdGF0dXNDb2RlIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsInN0YXR1c01lc3NhZ2UiLCJoZWFkZXJzIiwiTWFwIiwiZW50cmllcyIsImFycmF5QnVmZmVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJqc29uIiwiSlNPTiIsInBhcnNlIiwidG9TdHJpbmciLCJERUZBVUxUX0NPTkZJRyIsImV4dGVuc2lvbiIsImxvY2F0aW9uIiwibGFuZ3MiLCJsb2NhbGUiLCJvdmVycmlkZSIsIkkxOE4iLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJ0aGlzIiwiY3JlYXRlIiwibG9hZGVkIiwicHJvY2Vzc0NvbmZpZyIsInJlc3RPcHRpb25zIiwicGFyc2VkTG9jYXRpb24iLCJyZXBsYWNlIiwiY29uZmlnIiwicHJlbG9hZGVkIiwiYWxsTGFuZ3MiLCJyZWR1Y2UiLCJhY2MiLCJsYW5nIiwiYXBwbHlMYW5ndWFnZSIsImluaXQiLCJzZXRDdXJyZW50IiwiYWRkTGFuZ3VhZ2UiLCJwcm9jZXNzRmlsZSIsImdldFZhbHVlIiwia2V5IiwiX2EiLCJnZXRGYWxsYmFja1ZhbHVlIiwiZmFsbGJhY2tMYW5nIiwidmFsdWVzIiwiZmluZCIsIm1ha2VTYWZlIiwic3RyIiwibWFwT2JqIiwibWF0Y2hlZCIsIlJlZ0V4cCIsInB1dCIsInN0cmluZyIsImN1cnJlbnQiLCJnZXQiLCJhcmdzIiwiX3RoaXMiLCJ2YWx1ZSIsInRva2VucyIsIm1hdGNoIiwidG9rZW4iLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJmcm9tRmlsZSIsInJhd1RleHQiLCJsaW5lcyIsInNwbGl0IiwibWF0Y2hlcyIsImkiLCJleGVjIiwibG9hZExhbmciLCJ1c2VDYWNoZSIsInJlamVjdCIsImluZGV4T2YiLCJ1cmwiLCJmZXRjaE9wdGlvbnMiLCJoYW5kbGVyIiwic3RhcnRzV2l0aCIsImh0dHBzIiwicmVxdWVzdCIsImVycm9yIiwiRXJyb3IiLCJtZXNzYWdlIiwid3JpdGUiLCJlbmQiLCJmZXRjaCIsImpvaW4iLCJ0aGVuIiwicHJvY2Vzc2VkRmlsZSIsImNhdGNoIiwiZXhpc3RpbmdMYW5nIiwiZ2V0TGFuZ3MiLCJtaTE4biJdLCJtYXBwaW5ncyI6IjZPQUFlLE1BQUFBLEVBQUEsQ0FBQSxFQ0dUQyxFQUFpQkMsT0FBT0MsT0FBTyxDQUFFQyxPQUFRLE1BQU9DLEtBQU0sS0FpQ3RELE1BQUFDLEVBQWtCLENBQUNDLEVBQVVDLEtBQ2pDLE1BQU1DLEVBQU8sR0FDYkYsRUFBU0csR0FBRyxRQUFRQyxHQUFTRixFQUFLRyxLQUFLRCxLQUM5QkosRUFBQUcsR0FBRyxPQUFPLEtBQ1gsTUFBQUcsRUFBYUMsT0FBT0MsT0FBT04sR0FDM0JPLEVBQVMsQ0FDYkMsR0FBSVYsRUFBU1csWUFBYyxLQUFPWCxFQUFTVyxXQUFhLElBQ3hEQyxPQUFRWixFQUFTVyxXQUNqQkUsV0FBWWIsRUFBU2MsY0FDckJDLFFBQVMsSUFBSUMsSUFBSXJCLE9BQU9zQixRQUFRakIsRUFBU2UsVUFDekNqQixLQUFNUSxFQUNOWSxZQUFhLElBQU1DLFFBQVFDLFFBQVFkLEdBQ25DZSxLQUFNLElBQU1GLFFBQVFDLFFBQVFFLEtBQUtDLE1BQU1qQixFQUFXa0IsY0FFcER2QixFQUFNUSxFQUFNLEdBQ2IsRUNqREdnQixFQUFpQixDQUNy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
