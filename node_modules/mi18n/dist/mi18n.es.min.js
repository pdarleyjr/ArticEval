
/**
mi18n - https://github.com/Draggable/mi18n
Version: 1.0.2
Author: Draggable https://draggable.io
*/

const http = {};
const defaultOptions = Object.freeze({ method: "GET", body: "" });
function fetch(url, fetchOptions = {}) {
  const options = { ...defaultOptions, ...fetchOptions };
  const handler = url.startsWith("https") ? http : http;
  return new Promise((resolve, reject) => {
    const request = handler.request(url, options, (response) => {
      processResponse(response, resolve);
    });
    request.on("error", (error) => reject(new Error(error.message)));
    if (options == null ? void 0 : options.body) request.write(options.body);
    request.end();
  });
}
const processResponse = (response, onEnd) => {
  const data = [];
  response.on("data", (chunk) => data.push(chunk));
  response.on("end", () => {
    const bodyBuffer = Buffer.concat(data);
    const result = {
      ok: response.statusCode >= 200 && response.statusCode < 300,
      status: response.statusCode,
      statusText: response.statusMessage,
      headers: new Map(Object.entries(response.headers)),
      body: bodyBuffer,
      arrayBuffer: () => Promise.resolve(bodyBuffer),
      json: () => Promise.resolve(JSON.parse(bodyBuffer.toString()))
    };
    onEnd(result);
  });
};
const DEFAULT_CONFIG = {
  extension: ".lang",
  // local or remote directory containing language files
  location: "assets/lang/",
  // list of available locales, handy for populating selector.
  langs: ["en-US"],
  locale: "en-US",
  // init with user's preferred language
  override: {}
};
class I18N {
  /**
   * Process options and start the module
   * @param {Object} options
   */
  constructor(options = DEFAULT_CONFIG) {
    this.langs = /* @__PURE__ */ Object.create(null);
    this.loaded = [];
    this.processConfig(options);
  }
  /**
   * parse and format config
   * @param {Object} options
   */
  processConfig(options) {
    const { location, ...restOptions } = { ...DEFAULT_CONFIG, ...options };
    const parsedLocation = location.replace(/\/?$/, "/");
    this.config = { location: parsedLocation, ...restOptions };
    const { override, preloaded = {} } = this.config;
    const allLangs = Object.entries(this.langs).concat(Object.entries(override || preloaded));
    this.langs = allLangs.reduce((acc, [locale, lang]) => {
      acc[locale] = this.applyLanguage(locale, lang);
      return acc;
    }, {});
    this.locale = this.config.locale || this.config.langs[0];
  }
  /**
   * Load language and set default
   * @param  {Object} options
   * @return {Promise}        resolves language
   */
  init(options) {
    this.processConfig({ ...this.config, ...options });
    return this.setCurrent(this.locale);
  }
  /**
   * Adds a language to the list of available languages
   * @param {String} locale
   * @param {String|Object} lang
   */
  addLanguage(locale, lang = {}) {
    lang = typeof lang === "string" ? I18N.processFile(lang) : lang;
    this.applyLanguage(locale, lang);
    this.config.langs.push("locale");
  }
  /**
   * get a string from a loaded language file
   * @param  {String} key  - the key for the string we are trying to retrieve
   * @param  {String} locale - locale to check for value
   * @return {String} language string or undefined
   */
  getValue(key, locale = this.locale) {
    var _a;
    const value = (_a = this.langs[locale]) == null ? void 0 : _a[key];
    return value || this.getFallbackValue(key);
  }
  /**
   * Find a language that has desired key
   * @param {String} key value key
   * @return {String} found value or undefined
   */
  getFallbackValue(key) {
    const fallbackLang = Object.values(this.langs).find((lang) => lang[key]);
    return fallbackLang == null ? void 0 : fallbackLang[key];
  }
  /**
   * Escape variable syntax
   * @param  {String} str
   * @return {String}     escaped str
   */
  makeSafe(str) {
    const mapObj = {
      "{": "\\{",
      "}": "\\}",
      "|": "\\|"
    };
    str = str.replace(/[{}|]/g, (matched) => mapObj[matched]);
    return new RegExp(str, "g");
  }
  /**
   * Temporarily put a string into the currently loaded language
   * @param  {String} key
   * @param  {String} string
   * @return {String} string in current language
   */
  put(key, string) {
    this.current[key] = string;
    return string;
  }
  /**
   * Parse arguments for the requested string
   * @param  {String} key  the key we use to lookup our translation
   * @param  {multi}  args  string, number or object containing our arguments
   * @return {String}      updated string translation
   */
  get(key, args) {
    const _this = this;
    let value = this.getValue(key);
    if (!value) {
      return;
    }
    const tokens = value.match(/\{[^}]+?\}/g);
    if (args && tokens) {
      if ("object" === typeof args) {
        for (const token of tokens) {
          const key2 = token.substring(1, token.length - 1);
          value = value.replace(_this.makeSafe(token), args[key2] || "");
        }
      } else {
        value = value.replace(/\{[^}]+?\}/g, args);
      }
    }
    return value;
  }
  /**
   * Static method: Process a language file from raw text
   * @param  {String} response
   * @return {Object} processed language
   */
  static processFile(response) {
    return I18N.fromFile(response.replace(/\n\n/g, "\n"));
  }
  /**
   * Static method: Turn raw text from the language files into fancy JSON
   * @param  {String} rawText
   * @return {Object} converted language file
   */
  static fromFile(rawText) {
    const lines = rawText.split("\n");
    const lang = {};
    for (let matches, i = 0; i < lines.length; i++) {
      const regex = /^(.+?) *?= *?([^\n]+)/;
      matches = regex.exec(lines[i]);
      if (matches) {
        lang[matches[1]] = matches[2].replace(/(^\s+|\s+$)/g, "");
      }
    }
    return lang;
  }
  /**
   * Load a remotely stored language file
   * @param  {String} locale
   * @param  {Boolean} useCache
   * @return {Promise}       resolves response
   */
  loadLang(locale, useCache = true) {
    const _this = this;
    return new Promise(function(resolve, reject) {
      if (_this.loaded.indexOf(locale) !== -1 && useCache) {
        _this.applyLanguage(_this.langs[locale]);
        return resolve(_this.langs[locale]);
      } else {
        const langFile = [_this.config.location, locale, _this.config.extension].join("");
        return fetch(langFile).then(({ data: lang }) => {
          const processedFile = _this.processFile(lang);
          _this.applyLanguage(locale, processedFile);
          _this.loaded.push(locale);
          return resolve(_this.langs[locale]);
        }).catch(() => {
          const lang = _this.applyLanguage(locale);
          resolve(lang);
        });
      }
    });
  }
  /**
   * applies overrides from config
   * @param {String} locale
   * @param {Object} lang
   * @return {Object} overriden language
   */
  applyLanguage(locale, lang = {}) {
    const override = this.config.override[locale] || {};
    const existingLang = this.langs[locale] || {};
    this.langs[locale] = { ...existingLang, ...lang, ...override };
    return this.langs[locale];
  }
  /**
   * return currently available languages
   * @return {Object} all configured languages
   */
  get getLangs() {
    return this.config.langs;
  }
  /**
   * Attempt to set the current language to the local provided
   * @param {String}   locale
   * @return {Promise} language
   */
  async setCurrent(locale = "en-US") {
    await this.loadLang(locale);
    this.locale = locale;
    this.current = this.langs[locale];
    return this.current;
  }
}
const mi18n = new I18N();
export {
  I18N,
  mi18n as default
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWkxOG4uZXMubWluLmpzIiwic291cmNlcyI6WyIuLi9fX3ZpdGUtYnJvd3Nlci1leHRlcm5hbCIsIi4uL3NyYy9mZXRjaC5qcyIsIi4uL3NyYy9taTE4bi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7fSIsImltcG9ydCBodHRwcyBmcm9tICdodHRwcydcbmltcG9ydCBodHRwIGZyb20gJ2h0dHAnXG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zID0gT2JqZWN0LmZyZWV6ZSh7IG1ldGhvZDogJ0dFVCcsIGJvZHk6ICcnIH0pXG4vKipcbiAqIEZldGNoZXMgYSByZXNvdXJjZSBmcm9tIHRoZSBuZXR3b3JrLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgVVJMIHRvIGZldGNoLlxuICogQHBhcmFtIHtPYmplY3R9IFtmZXRjaE9wdGlvbnM9e31dIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBmZXRjaCByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtmZXRjaE9wdGlvbnMuaGVhZGVyc10gLSBIZWFkZXJzIHRvIGluY2x1ZGUgaW4gdGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2ZldGNoT3B0aW9ucy5tZXRob2RdIC0gVGhlIEhUVFAgbWV0aG9kIHRvIHVzZSAoZS5nLiwgJ0dFVCcsICdQT1NUJykuXG4gKiBAcGFyYW0ge3N0cmluZ3xCdWZmZXJ9IFtmZXRjaE9wdGlvbnMuYm9keV0gLSBUaGUgYm9keSBvZiB0aGUgcmVxdWVzdC5cbiAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0Pn0gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHJlc3BvbnNlIG9iamVjdC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IHJldHVybi5vayAtIEluZGljYXRlcyBpZiB0aGUgcmVzcG9uc2Ugc3RhdHVzIGlzIGluIHRoZSByYW5nZSAyMDAtMjk5LlxuICogQHJldHVybiB7bnVtYmVyfSByZXR1cm4uc3RhdHVzIC0gVGhlIEhUVFAgc3RhdHVzIGNvZGUgb2YgdGhlIHJlc3BvbnNlLlxuICogQHJldHVybiB7c3RyaW5nfSByZXR1cm4uc3RhdHVzVGV4dCAtIFRoZSBIVFRQIHN0YXR1cyBtZXNzYWdlIG9mIHRoZSByZXNwb25zZS5cbiAqIEByZXR1cm4ge01hcDxzdHJpbmcsIHN0cmluZz59IHJldHVybi5oZWFkZXJzIC0gVGhlIGhlYWRlcnMgb2YgdGhlIHJlc3BvbnNlLlxuICogQHJldHVybiB7QnVmZmVyfSByZXR1cm4uYm9keSAtIFRoZSBib2R5IG9mIHRoZSByZXNwb25zZSBhcyBhIEJ1ZmZlci5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKCk6IFByb21pc2U8QnVmZmVyPn0gcmV0dXJuLmFycmF5QnVmZmVyIC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBwcm9taXNlIHJlc29sdmluZyB0byB0aGUgYm9keSBhcyBhbiBBcnJheUJ1ZmZlci5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKCk6IFByb21pc2U8T2JqZWN0Pn0gcmV0dXJuLmpzb24gLSBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSBib2R5IHBhcnNlZCBhcyBKU09OLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2godXJsLCBmZXRjaE9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBvcHRpb25zID0geyAuLi5kZWZhdWx0T3B0aW9ucywgLi4uZmV0Y2hPcHRpb25zIH1cbiAgY29uc3QgaGFuZGxlciA9IHVybC5zdGFydHNXaXRoKCdodHRwcycpID8gaHR0cHMgOiBodHRwXG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCByZXF1ZXN0ID0gaGFuZGxlci5yZXF1ZXN0KHVybCwgb3B0aW9ucywgcmVzcG9uc2UgPT4ge1xuICAgICAgcHJvY2Vzc1Jlc3BvbnNlKHJlc3BvbnNlLCByZXNvbHZlKVxuICAgIH0pXG5cbiAgICByZXF1ZXN0Lm9uKCdlcnJvcicsIGVycm9yID0+IHJlamVjdChuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSkpKVxuICAgIGlmIChvcHRpb25zPy5ib2R5KSByZXF1ZXN0LndyaXRlKG9wdGlvbnMuYm9keSlcbiAgICByZXF1ZXN0LmVuZCgpXG4gIH0pXG59XG5cbmNvbnN0IHByb2Nlc3NSZXNwb25zZSA9IChyZXNwb25zZSwgb25FbmQpID0+IHtcbiAgY29uc3QgZGF0YSA9IFtdXG4gIHJlc3BvbnNlLm9uKCdkYXRhJywgY2h1bmsgPT4gZGF0YS5wdXNoKGNodW5rKSlcbiAgcmVzcG9uc2Uub24oJ2VuZCcsICgpID0+IHtcbiAgICBjb25zdCBib2R5QnVmZmVyID0gQnVmZmVyLmNvbmNhdChkYXRhKVxuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgIG9rOiByZXNwb25zZS5zdGF0dXNDb2RlID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXNDb2RlIDwgMzAwLFxuICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXNDb2RlLFxuICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzTWVzc2FnZSxcbiAgICAgIGhlYWRlcnM6IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMocmVzcG9uc2UuaGVhZGVycykpLFxuICAgICAgYm9keTogYm9keUJ1ZmZlcixcbiAgICAgIGFycmF5QnVmZmVyOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoYm9keUJ1ZmZlciksXG4gICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoSlNPTi5wYXJzZShib2R5QnVmZmVyLnRvU3RyaW5nKCkpKSxcbiAgICB9XG4gICAgb25FbmQocmVzdWx0KVxuICB9KVxufVxuIiwiaW1wb3J0IHsgZmV0Y2ggfSBmcm9tICcuL2ZldGNoLmpzJ1xuXG5jb25zdCBERUZBVUxUX0NPTkZJRyA9IHtcbiAgZXh0ZW5zaW9uOiAnLmxhbmcnLFxuICAvLyBsb2NhbCBvciByZW1vdGUgZGlyZWN0b3J5IGNvbnRhaW5pbmcgbGFuZ3VhZ2UgZmlsZXNcbiAgbG9jYXRpb246ICdhc3NldHMvbGFuZy8nLFxuICAvLyBsaXN0IG9mIGF2YWlsYWJsZSBsb2NhbGVzLCBoYW5keSBmb3IgcG9wdWxhdGluZyBzZWxlY3Rvci5cbiAgbGFuZ3M6IFsnZW4tVVMnXSxcbiAgbG9jYWxlOiAnZW4tVVMnLCAvLyBpbml0IHdpdGggdXNlcidzIHByZWZlcnJlZCBsYW5ndWFnZVxuICBvdmVycmlkZToge30sXG59XG5cbi8qKlxuICogTWFpbiBtaTE4biBjbGFzc1xuICogQGNsYXNzIEkxOE5cbiAqIEBjbGFzc2Rlc2MgbWV0aG9kcyBhbmQgZGF0YSBzdG9yZSBmb3IgbWkxOG5cbiAqL1xuZXhwb3J0IGNsYXNzIEkxOE4ge1xuICAvKipcbiAgICogUHJvY2VzcyBvcHRpb25zIGFuZCBzdGFydCB0aGUgbW9kdWxlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0gREVGQVVMVF9DT05GSUcpIHtcbiAgICB0aGlzLmxhbmdzID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuICAgIHRoaXMubG9hZGVkID0gW11cbiAgICB0aGlzLnByb2Nlc3NDb25maWcob3B0aW9ucylcbiAgfVxuXG4gIC8qKlxuICAgKiBwYXJzZSBhbmQgZm9ybWF0IGNvbmZpZ1xuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKi9cbiAgcHJvY2Vzc0NvbmZpZyhvcHRpb25zKSB7XG4gICAgY29uc3QgeyBsb2NhdGlvbiwgLi4ucmVzdE9wdGlvbnMgfSA9IHsgLi4uREVGQVVMVF9DT05GSUcsIC4uLm9wdGlvbnMgfVxuICAgIGNvbnN0IHBhcnNlZExvY2F0aW9uID0gbG9jYXRpb24ucmVwbGFjZSgvXFwvPyQvLCAnLycpXG4gICAgdGhpcy5jb25maWcgPSB7IGxvY2F0aW9uOiBwYXJzZWRMb2NhdGlvbiwgLi4ucmVzdE9wdGlvbnMgfVxuICAgIGNvbnN0IHsgb3ZlcnJpZGUsIHByZWxvYWRlZCA9IHt9IH0gPSB0aGlzLmNvbmZpZ1xuICAgIGNvbnN0IGFsbExhbmdzID0gT2JqZWN0LmVudHJpZXModGhpcy5sYW5ncykuY29uY2F0KE9iamVjdC5lbnRyaWVzKG92ZXJyaWRlIHx8IHByZWxvYWRlZCkpXG4gICAgdGhpcy5sYW5ncyA9IGFsbExhbmdzLnJlZHVjZSgoYWNjLCBbbG9jYWxlLCBsYW5nXSkgPT4ge1xuICAgICAgYWNjW2xvY2FsZV0gPSB0aGlzLmFwcGx5TGFuZ3VhZ2UobG9jYWxlLCBsYW5nKVxuICAgICAgcmV0dXJuIGFjY1xuICAgIH0sIHt9KVxuICAgIHRoaXMubG9jYWxlID0gdGhpcy5jb25maWcubG9jYWxlIHx8IHRoaXMuY29uZmlnLmxhbmdzWzBdXG4gIH1cblxuICAvKipcbiAgICogTG9hZCBsYW5ndWFnZSBhbmQgc2V0IGRlZmF1bHRcbiAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICByZXNvbHZlcyBsYW5ndWFnZVxuICAgKi9cbiAgaW5pdChvcHRpb25zKSB7XG4gICAgdGhpcy5wcm9jZXNzQ29uZmlnKHsgLi4udGhpcy5jb25maWcsIC4uLm9wdGlvbnMgfSlcbiAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50KHRoaXMubG9jYWxlKVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBsYW5ndWFnZSB0byB0aGUgbGlzdCBvZiBhdmFpbGFibGUgbGFuZ3VhZ2VzXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBsb2NhbGVcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBsYW5nXG4gICAqL1xuICBhZGRMYW5ndWFnZShsb2NhbGUsIGxhbmcgPSB7fSkge1xuICAgIGxhbmcgPSB0eXBlb2YgbGFuZyA9PT0gJ3N0cmluZycgPyBJMThOLnByb2Nlc3NGaWxlKGxhbmcpIDogbGFuZ1xuICAgIHRoaXMuYXBwbHlMYW5ndWFnZShsb2NhbGUsIGxhbmcpXG4gICAgdGhpcy5jb25maWcubGFuZ3MucHVzaCgnbG9jYWxlJylcbiAgfVxuXG4gIC8qKlxuICAgKiBnZXQgYSBzdHJpbmcgZnJvbSBhIGxvYWRlZCBsYW5ndWFnZSBmaWxlXG4gICAqIEBwYXJhbSAge1N0cmluZ30ga2V5ICAtIHRoZSBrZXkgZm9yIHRoZSBzdHJpbmcgd2UgYXJlIHRyeWluZyB0byByZXRyaWV2ZVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGxvY2FsZSAtIGxvY2FsZSB0byBjaGVjayBmb3IgdmFsdWVcbiAgICogQHJldHVybiB7U3RyaW5nfSBsYW5ndWFnZSBzdHJpbmcgb3IgdW5kZWZpbmVkXG4gICAqL1xuICBnZXRWYWx1ZShrZXksIGxvY2FsZSA9IHRoaXMubG9jYWxlKSB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLmxhbmdzW2xvY2FsZV0/LltrZXldXG4gICAgcmV0dXJuIHZhbHVlIHx8IHRoaXMuZ2V0RmFsbGJhY2tWYWx1ZShrZXkpXG4gIH1cblxuICAvKipcbiAgICogRmluZCBhIGxhbmd1YWdlIHRoYXQgaGFzIGRlc2lyZWQga2V5XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgdmFsdWUga2V5XG4gICAqIEByZXR1cm4ge1N0cmluZ30gZm91bmQgdmFsdWUgb3IgdW5kZWZpbmVkXG4gICAqL1xuICBnZXRGYWxsYmFja1ZhbHVlKGtleSkge1xuICAgIGNvbnN0IGZhbGxiYWNrTGFuZyA9IE9iamVjdC52YWx1ZXModGhpcy5sYW5ncykuZmluZChsYW5nID0+IGxhbmdba2V5XSlcbiAgICByZXR1cm4gZmFsbGJhY2tMYW5nPy5ba2V5XVxuICB9XG5cbiAgLyoqXG4gICAqIEVzY2FwZSB2YXJpYWJsZSBzeW50YXhcbiAgICogQHBhcmFtICB7U3RyaW5nfSBzdHJcbiAgICogQHJldHVybiB7U3RyaW5nfSAgICAgZXNjYXBlZCBzdHJcbiAgICovXG4gIG1ha2VTYWZlKHN0cikge1xuICAgIGNvbnN0IG1hcE9iaiA9IHtcbiAgICAgICd7JzogJ1xcXFx7JyxcbiAgICAgICd9JzogJ1xcXFx9JyxcbiAgICAgICd8JzogJ1xcXFx8JyxcbiAgICB9XG5cbiAgICBzdHIgPSBzdHIucmVwbGFjZSgvW3t9fF0vZywgbWF0Y2hlZCA9PiBtYXBPYmpbbWF0Y2hlZF0pXG5cbiAgICByZXR1cm4gbmV3IFJlZ0V4cChzdHIsICdnJylcbiAgfVxuXG4gIC8qKlxuICAgKiBUZW1wb3JhcmlseSBwdXQgYSBzdHJpbmcgaW50byB0aGUgY3VycmVudGx5IGxvYWRlZCBsYW5ndWFnZVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGtleVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHN0cmluZ1xuICAgKiBAcmV0dXJuIHtTdHJpbmd9IHN0cmluZyBpbiBjdXJyZW50IGxhbmd1YWdlXG4gICAqL1xuICBwdXQoa2V5LCBzdHJpbmcpIHtcbiAgICB0aGlzLmN1cnJlbnRba2V5XSA9IHN0cmluZ1xuXG4gICAgcmV0dXJuIHN0cmluZ1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIGFyZ3VtZW50cyBmb3IgdGhlIHJlcXVlc3RlZCBzdHJpbmdcbiAgICogQHBhcmFtICB7U3RyaW5nfSBrZXkgIHRoZSBrZXkgd2UgdXNlIHRvIGxvb2t1cCBvdXIgdHJhbnNsYXRpb25cbiAgICogQHBhcmFtICB7bXVsdGl9ICBhcmdzICBzdHJpbmcsIG51bWJlciBvciBvYmplY3QgY29udGFpbmluZyBvdXIgYXJndW1lbnRzXG4gICAqIEByZXR1cm4ge1N0cmluZ30gICAgICB1cGRhdGVkIHN0cmluZyB0cmFuc2xhdGlvblxuICAgKi9cbiAgZ2V0KGtleSwgYXJncykge1xuICAgIGNvbnN0IF90aGlzID0gdGhpc1xuICAgIGxldCB2YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoa2V5KVxuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHRva2VucyA9IHZhbHVlLm1hdGNoKC9cXHtbXn1dKz9cXH0vZylcblxuICAgIGlmIChhcmdzICYmIHRva2Vucykge1xuICAgICAgaWYgKCdvYmplY3QnID09PSB0eXBlb2YgYXJncykge1xuICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHRva2Vucykge1xuICAgICAgICAgIGNvbnN0IGtleSA9IHRva2VuLnN1YnN0cmluZygxLCB0b2tlbi5sZW5ndGggLSAxKVxuICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShfdGhpcy5tYWtlU2FmZSh0b2tlbiksIGFyZ3Nba2V5XSB8fCAnJylcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXHtbXn1dKz9cXH0vZywgYXJncylcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGF0aWMgbWV0aG9kOiBQcm9jZXNzIGEgbGFuZ3VhZ2UgZmlsZSBmcm9tIHJhdyB0ZXh0XG4gICAqIEBwYXJhbSAge1N0cmluZ30gcmVzcG9uc2VcbiAgICogQHJldHVybiB7T2JqZWN0fSBwcm9jZXNzZWQgbGFuZ3VhZ2VcbiAgICovXG4gIHN0YXRpYyBwcm9jZXNzRmlsZShyZXNwb25zZSkge1xuICAgIHJldHVybiBJMThOLmZyb21GaWxlKHJlc3BvbnNlLnJlcGxhY2UoL1xcblxcbi9nLCAnXFxuJykpXG4gIH1cblxuICAvKipcbiAgICogU3RhdGljIG1ldGhvZDogVHVybiByYXcgdGV4dCBmcm9tIHRoZSBsYW5ndWFnZSBmaWxlcyBpbnRvIGZhbmN5IEpTT05cbiAgICogQHBhcmFtICB7U3RyaW5nfSByYXdUZXh0XG4gICAqIEByZXR1cm4ge09iamVjdH0gY29udmVydGVkIGxhbmd1YWdlIGZpbGVcbiAgICovXG4gIHN0YXRpYyBmcm9tRmlsZShyYXdUZXh0KSB7XG4gICAgY29uc3QgbGluZXMgPSByYXdUZXh0LnNwbGl0KCdcXG4nKVxuICAgIGNvbnN0IGxhbmcgPSB7fVxuXG4gICAgZm9yIChsZXQgbWF0Y2hlcywgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcmVnZXggPSAvXiguKz8pICo/PSAqPyhbXlxcbl0rKS9cbiAgICAgIG1hdGNoZXMgPSByZWdleC5leGVjKGxpbmVzW2ldKVxuICAgICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgbGFuZ1ttYXRjaGVzWzFdXSA9IG1hdGNoZXNbMl0ucmVwbGFjZSgvKF5cXHMrfFxccyskKS9nLCAnJylcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGFuZ1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgYSByZW1vdGVseSBzdG9yZWQgbGFuZ3VhZ2UgZmlsZVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGxvY2FsZVxuICAgKiBAcGFyYW0gIHtCb29sZWFufSB1c2VDYWNoZVxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICByZXNvbHZlcyByZXNwb25zZVxuICAgKi9cbiAgbG9hZExhbmcobG9jYWxlLCB1c2VDYWNoZSA9IHRydWUpIHtcbiAgICBjb25zdCBfdGhpcyA9IHRoaXNcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgaWYgKF90aGlzLmxvYWRlZC5pbmRleE9mKGxvY2FsZSkgIT09IC0xICYmIHVzZUNhY2hlKSB7XG4gICAgICAgIF90aGlzLmFwcGx5TGFuZ3VhZ2UoX3RoaXMubGFuZ3NbbG9jYWxlXSlcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoX3RoaXMubGFuZ3NbbG9jYWxlXSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGxhbmdGaWxlID0gW190aGlzLmNvbmZpZy5sb2NhdGlvbiwgbG9jYWxlLCBfdGhpcy5jb25maWcuZXh0ZW5zaW9uXS5qb2luKCcnKVxuICAgICAgICByZXR1cm4gZmV0Y2gobGFuZ0ZpbGUpXG4gICAgICAgICAgLnRoZW4oKHsgZGF0YTogbGFuZyB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzZWRGaWxlID0gX3RoaXMucHJvY2Vzc0ZpbGUobGFuZylcbiAgICAgICAgICAgIF90aGlzLmFwcGx5TGFuZ3VhZ2UobG9jYWxlLCBwcm9jZXNzZWRGaWxlKVxuICAgICAgICAgICAgX3RoaXMubG9hZGVkLnB1c2gobG9jYWxlKVxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoX3RoaXMubGFuZ3NbbG9jYWxlXSlcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsYW5nID0gX3RoaXMuYXBwbHlMYW5ndWFnZShsb2NhbGUpXG4gICAgICAgICAgICByZXNvbHZlKGxhbmcpXG4gICAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIGFwcGxpZXMgb3ZlcnJpZGVzIGZyb20gY29uZmlnXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBsb2NhbGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGxhbmdcbiAgICogQHJldHVybiB7T2JqZWN0fSBvdmVycmlkZW4gbGFuZ3VhZ2VcbiAgICovXG4gIGFwcGx5TGFuZ3VhZ2UobG9jYWxlLCBsYW5nID0ge30pIHtcbiAgICBjb25zdCBvdmVycmlkZSA9IHRoaXMuY29uZmlnLm92ZXJyaWRlW2xvY2FsZV0gfHwge31cbiAgICBjb25zdCBleGlzdGluZ0xhbmcgPSB0aGlzLmxhbmdzW2xvY2FsZV0gfHwge31cbiAgICB0aGlzLmxhbmdzW2xvY2FsZV0gPSB7IC4uLmV4aXN0aW5nTGFuZywgLi4ubGFuZywgLi4ub3ZlcnJpZGUgfVxuICAgIHJldHVybiB0aGlzLmxhbmdzW2xvY2FsZV1cbiAgfVxuXG4gIC8qKlxuICAgKiByZXR1cm4gY3VycmVudGx5IGF2YWlsYWJsZSBsYW5ndWFnZXNcbiAgICogQHJldHVybiB7T2JqZWN0fSBhbGwgY29uZmlndXJlZCBsYW5ndWFnZXNcbiAgICovXG4gIGdldCBnZXRMYW5ncygpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcubGFuZ3NcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRlbXB0IHRvIHNldCB0aGUgY3VycmVudCBsYW5ndWFnZSB0byB0aGUgbG9jYWwgcHJvdmlkZWRcbiAgICogQHBhcmFtIHtTdHJpbmd9ICAgbG9jYWxlXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IGxhbmd1YWdlXG4gICAqL1xuICBhc3luYyBzZXRDdXJyZW50KGxvY2FsZSA9ICdlbi1VUycpIHtcbiAgICBhd2FpdCB0aGlzLmxvYWRMYW5nKGxvY2FsZSlcbiAgICB0aGlzLmxvY2FsZSA9IGxvY2FsZVxuICAgIHRoaXMuY3VycmVudCA9IHRoaXMubGFuZ3NbbG9jYWxlXVxuXG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBJMThOKClcbiJdLCJuYW1lcyI6WyJodHRwcyIsImtleSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBZSxPQUFBLENBQUE7QUNHZixNQUFNLGlCQUFpQixPQUFPLE9BQU8sRUFBRSxRQUFRLE9BQU8sTUFBTSxJQUFJO0FBa0J6RCxTQUFTLE1BQU0sS0FBSyxlQUFlLElBQUk7QUFDNUMsUUFBTSxVQUFVLEVBQUUsR0FBRyxnQkFBZ0IsR0FBRyxhQUFjO0FBQ3RELFFBQU0sVUFBVSxJQUFJLFdBQVcsT0FBTyxJQUFJQSxPQUFRO0FBRWxELFNBQU8sSUFBSSxRQUFRLENBQUMsU0FBUyxXQUFXO0FBQ3RDLFVBQU0sVUFBVSxRQUFRLFFBQVEsS0FBSyxTQUFTLGNBQVk7QUFDeEQsc0JBQWdCLFVBQVUsT0FBTztBQUFBLElBQ3ZDLENBQUs7QUFFRCxZQUFRLEdBQUcsU0FBUyxXQUFTLE9BQU8sSUFBSSxNQUFNLE1BQU0sT0FBTyxDQUFDLENBQUM7QUFDN0QsUUFBSSxtQ0FBUyxLQUFNLFNBQVEsTUFBTSxRQUFRLElBQUk7QUFDN0MsWUFBUSxJQUFLO0FBQUEsRUFDakIsQ0FBRztBQUNIO0FBRUEsTUFBTSxrQkFBa0IsQ0FBQyxVQUFVLFVBQVU7QUFDM0MsUUFBTSxPQUFPLENBQUU7QUFDZixXQUFTLEdBQUcsUUFBUSxXQUFTLEtBQUssS0FBSyxLQUFLLENBQUM7QUFDN0MsV0FBUyxHQUFHLE9BQU8sTUFBTTtBQUN2QixVQUFNLGFBQWEsT0FBTyxPQUFPLElBQUk7QUFDckMsVUFBTSxTQUFTO0FBQUEsTUFDYixJQUFJLFNBQVMsY0FBYyxPQUFPLFNBQVMsYUFBYTtBQUFBLE1BQ3hELFFBQVEsU0FB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
