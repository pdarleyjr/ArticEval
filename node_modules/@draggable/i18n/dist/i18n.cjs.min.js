
/**
@draggable/i18n - https://github.com/Draggable/i18n
Version: 1.0.6
Author: Draggable https://draggable.io
*/

"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e={extension:".lang",location:"assets/lang/",langs:["en-US"],locale:"en-US",override:{}};class t{constructor(t=e){this.langs=Object.create(null),this.loaded=[],this.processConfig(t)}processConfig(t){const{location:n,...s}={...e,...t},a=n.replace(/\/?$/,"/");this.config={location:a,...s};const{override:o,preloaded:r={}}=this.config,i=Object.entries(this.langs).concat(Object.entries(o||r));this.langs=i.reduce(((e,[t,n])=>(e[t]=this.applyLanguage(t,n),e)),{}),this.locale=this.config.locale||this.config.langs[0]}init(e){return this.processConfig({...this.config,...e}),this.setCurrent(this.locale)}addLanguage(e,n={}){n="string"==typeof n?t.processFile(n):n,this.applyLanguage(e,n),this.config.langs.push("locale")}getValue(e,t=this.locale){var n;return(null==(n=this.langs[t])?void 0:n[e])||this.getFallbackValue(e)}getFallbackValue(e){const t=Object.values(this.langs).find((t=>t[e]));return null==t?void 0:t[e]}makeSafe(e){const t={"{":"\\{","}":"\\}","|":"\\|"};return e=e.replace(/[{}|]/g,(e=>t[e])),new RegExp(e,"g")}put(e,t){return this.current[e]=t,t}get(e,t){const n=this;let s=this.getValue(e);if(!s)return;const a=s.match(/\{[^}]+?\}/g);if(t&&a)if("object"==typeof t)for(const o of a){const e=o.substring(1,o.length-1);s=s.replace(n.makeSafe(o),t[e]||"")}else s=s.replace(/\{[^}]+?\}/g,t);return s}static processFile(e){return t.fromFile(e.replace(/\n\n/g,"\n"))}static fromFile(e){const t=e.split("\n"),n={};for(let s,a=0;a<t.length;a++){s=/^(.+?) *?= *?([^\n]+)/.exec(t[a]),s&&(n[s[1]]=s[2].replace(/(^\s+|\s+$)/g,""))}return n}loadLang(e,n=!0){const s=this;return new Promise((function(a,o){if(-1!==s.loaded.indexOf(e)&&n)return s.applyLanguage(s.langs[e]),a(s.langs[e]);return async function(e){try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=e.endsWith(".lang")?"text":"json";return await t[n]()}catch(t){throw t}}([s.config.location,e,s.config.extension].join("")).then((n=>{const o=t.processFile(n);return s.applyLanguage(e,o),s.loaded.push(e),a(s.langs[e])})).catch((t=>{const n=s.applyLanguage(e);a(n)}))}))}applyLanguage(e,t={}){const n=this.config.override[e]||{},s=this.langs[e]||{};return this.langs[e]={...s,...t,...n},this.langs[e]}get getLangs(){return this.config.langs}async setCurrent(e="en-US"){return await this.loadLang(e),this.locale=e,this.current=this.langs[e],this.current}}const n=new t;exports.I18N=t,exports.default=n;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaTE4bi5janMubWluLmpzIiwic291cmNlcyI6WyIuLi9zcmMvbWkxOG4uanMiLCIuLi9zcmMvZmV0Y2guanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmV0Y2hEYXRhIH0gZnJvbSAnLi9mZXRjaC5qcydcblxuY29uc3QgREVGQVVMVF9DT05GSUcgPSB7XG4gIGV4dGVuc2lvbjogJy5sYW5nJyxcbiAgLy8gbG9jYWwgb3IgcmVtb3RlIGRpcmVjdG9yeSBjb250YWluaW5nIGxhbmd1YWdlIGZpbGVzXG4gIGxvY2F0aW9uOiAnYXNzZXRzL2xhbmcvJyxcbiAgLy8gbGlzdCBvZiBhdmFpbGFibGUgbG9jYWxlcywgaGFuZHkgZm9yIHBvcHVsYXRpbmcgc2VsZWN0b3IuXG4gIGxhbmdzOiBbJ2VuLVVTJ10sXG4gIGxvY2FsZTogJ2VuLVVTJywgLy8gaW5pdCB3aXRoIHVzZXIncyBwcmVmZXJyZWQgbGFuZ3VhZ2VcbiAgb3ZlcnJpZGU6IHt9LFxufVxuXG4vKipcbiAqIE1haW4gaTE4biBjbGFzc1xuICogQGNsYXNzIEkxOE5cbiAqIEBjbGFzc2Rlc2MgbWV0aG9kcyBhbmQgZGF0YSBzdG9yZSBmb3IgaTE4blxuICovXG5leHBvcnQgY2xhc3MgSTE4TiB7XG4gIC8qKlxuICAgKiBQcm9jZXNzIG9wdGlvbnMgYW5kIHN0YXJ0IHRoZSBtb2R1bGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSBERUZBVUxUX0NPTkZJRykge1xuICAgIHRoaXMubGFuZ3MgPSBPYmplY3QuY3JlYXRlKG51bGwpXG4gICAgdGhpcy5sb2FkZWQgPSBbXVxuICAgIHRoaXMucHJvY2Vzc0NvbmZpZyhvcHRpb25zKVxuICB9XG5cbiAgLyoqXG4gICAqIHBhcnNlIGFuZCBmb3JtYXQgY29uZmlnXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqL1xuICBwcm9jZXNzQ29uZmlnKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGxvY2F0aW9uLCAuLi5yZXN0T3B0aW9ucyB9ID0geyAuLi5ERUZBVUxUX0NPTkZJRywgLi4ub3B0aW9ucyB9XG4gICAgY29uc3QgcGFyc2VkTG9jYXRpb24gPSBsb2NhdGlvbi5yZXBsYWNlKC9cXC8/JC8sICcvJylcbiAgICB0aGlzLmNvbmZpZyA9IHsgbG9jYXRpb246IHBhcnNlZExvY2F0aW9uLCAuLi5yZXN0T3B0aW9ucyB9XG4gICAgY29uc3QgeyBvdmVycmlkZSwgcHJlbG9hZGVkID0ge30gfSA9IHRoaXMuY29uZmlnXG4gICAgY29uc3QgYWxsTGFuZ3MgPSBPYmplY3QuZW50cmllcyh0aGlzLmxhbmdzKS5jb25jYXQoT2JqZWN0LmVudHJpZXMob3ZlcnJpZGUgfHwgcHJlbG9hZGVkKSlcbiAgICB0aGlzLmxhbmdzID0gYWxsTGFuZ3MucmVkdWNlKChhY2MsIFtsb2NhbGUsIGxhbmddKSA9PiB7XG4gICAgICBhY2NbbG9jYWxlXSA9IHRoaXMuYXBwbHlMYW5ndWFnZShsb2NhbGUsIGxhbmcpXG4gICAgICByZXR1cm4gYWNjXG4gICAgfSwge30pXG4gICAgdGhpcy5sb2NhbGUgPSB0aGlzLmNvbmZpZy5sb2NhbGUgfHwgdGhpcy5jb25maWcubGFuZ3NbMF1cbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGxhbmd1YWdlIGFuZCBzZXQgZGVmYXVsdFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7UHJvbWlzZX0gICAgICAgIHJlc29sdmVzIGxhbmd1YWdlXG4gICAqL1xuICBpbml0KG9wdGlvbnMpIHtcbiAgICB0aGlzLnByb2Nlc3NDb25maWcoeyAuLi50aGlzLmNvbmZpZywgLi4ub3B0aW9ucyB9KVxuICAgIHJldHVybiB0aGlzLnNldEN1cnJlbnQodGhpcy5sb2NhbGUpXG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGxhbmd1YWdlIHRvIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBsYW5ndWFnZXNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGxvY2FsZVxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGxhbmdcbiAgICovXG4gIGFkZExhbmd1YWdlKGxvY2FsZSwgbGFuZyA9IHt9KSB7XG4gICAgbGFuZyA9IHR5cGVvZiBsYW5nID09PSAnc3RyaW5nJyA/IEkxOE4ucHJvY2Vzc0ZpbGUobGFuZykgOiBsYW5nXG4gICAgdGhpcy5hcHBseUxhbmd1YWdlKGxvY2FsZSwgbGFuZylcbiAgICB0aGlzLmNvbmZpZy5sYW5ncy5wdXNoKCdsb2NhbGUnKVxuICB9XG5cbiAgLyoqXG4gICAqIGdldCBhIHN0cmluZyBmcm9tIGEgbG9hZGVkIGxhbmd1YWdlIGZpbGVcbiAgICogQHBhcmFtICB7U3RyaW5nfSBrZXkgIC0gdGhlIGtleSBmb3IgdGhlIHN0cmluZyB3ZSBhcmUgdHJ5aW5nIHRvIHJldHJpZXZlXG4gICAqIEBwYXJhbSAge1N0cmluZ30gbG9jYWxlIC0gbG9jYWxlIHRvIGNoZWNrIGZvciB2YWx1ZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IGxhbmd1YWdlIHN0cmluZyBvciB1bmRlZmluZWRcbiAgICovXG4gIGdldFZhbHVlKGtleSwgbG9jYWxlID0gdGhpcy5sb2NhbGUpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMubGFuZ3NbbG9jYWxlXT8uW2tleV1cbiAgICByZXR1cm4gdmFsdWUgfHwgdGhpcy5nZXRGYWxsYmFja1ZhbHVlKGtleSlcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kIGEgbGFuZ3VhZ2UgdGhhdCBoYXMgZGVzaXJlZCBrZXlcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleSB2YWx1ZSBrZXlcbiAgICogQHJldHVybiB7U3RyaW5nfSBmb3VuZCB2YWx1ZSBvciB1bmRlZmluZWRcbiAgICovXG4gIGdldEZhbGxiYWNrVmFsdWUoa2V5KSB7XG4gICAgY29uc3QgZmFsbGJhY2tMYW5nID0gT2JqZWN0LnZhbHVlcyh0aGlzLmxhbmdzKS5maW5kKGxhbmcgPT4gbGFuZ1trZXldKVxuICAgIHJldHVybiBmYWxsYmFja0xhbmc/LltrZXldXG4gIH1cblxuICAvKipcbiAgICogRXNjYXBlIHZhcmlhYmxlIHN5bnRheFxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHN0clxuICAgKiBAcmV0dXJuIHtTdHJpbmd9ICAgICBlc2NhcGVkIHN0clxuICAgKi9cbiAgbWFrZVNhZmUoc3RyKSB7XG4gICAgY29uc3QgbWFwT2JqID0ge1xuICAgICAgJ3snOiAnXFxcXHsnLFxuICAgICAgJ30nOiAnXFxcXH0nLFxuICAgICAgJ3wnOiAnXFxcXHwnLFxuICAgIH1cblxuICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9be318XS9nLCBtYXRjaGVkID0+IG1hcE9ialttYXRjaGVkXSlcblxuICAgIHJldHVybiBuZXcgUmVnRXhwKHN0ciwgJ2cnKVxuICB9XG5cbiAgLyoqXG4gICAqIFRlbXBvcmFyaWx5IHB1dCBhIHN0cmluZyBpbnRvIHRoZSBjdXJyZW50bHkgbG9hZGVkIGxhbmd1YWdlXG4gICAqIEBwYXJhbSAge1N0cmluZ30ga2V5XG4gICAqIEBwYXJhbSAge1N0cmluZ30gc3RyaW5nXG4gICAqIEByZXR1cm4ge1N0cmluZ30gc3RyaW5nIGluIGN1cnJlbnQgbGFuZ3VhZ2VcbiAgICovXG4gIHB1dChrZXksIHN0cmluZykge1xuICAgIHRoaXMuY3VycmVudFtrZXldID0gc3RyaW5nXG5cbiAgICByZXR1cm4gc3RyaW5nXG4gIH1cblxuICAvKipcbiAgICogUGFyc2UgYXJndW1lbnRzIGZvciB0aGUgcmVxdWVzdGVkIHN0cmluZ1xuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGtleSAgdGhlIGtleSB3ZSB1c2UgdG8gbG9va3VwIG91ciB0cmFuc2xhdGlvblxuICAgKiBAcGFyYW0gIHttdWx0aX0gIGFyZ3MgIHN0cmluZywgbnVtYmVyIG9yIG9iamVjdCBjb250YWluaW5nIG91ciBhcmd1bWVudHNcbiAgICogQHJldHVybiB7U3RyaW5nfSAgICAgIHVwZGF0ZWQgc3RyaW5nIHRyYW5zbGF0aW9uXG4gICAqL1xuICBnZXQoa2V5LCBhcmdzKSB7XG4gICAgY29uc3QgX3RoaXMgPSB0aGlzXG4gICAgbGV0IHZhbHVlID0gdGhpcy5nZXRWYWx1ZShrZXkpXG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgdG9rZW5zID0gdmFsdWUubWF0Y2goL1xce1tefV0rP1xcfS9nKVxuXG4gICAgaWYgKGFyZ3MgJiYgdG9rZW5zKSB7XG4gICAgICBpZiAoJ29iamVjdCcgPT09IHR5cGVvZiBhcmdzKSB7XG4gICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgdG9rZW5zKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gdG9rZW4uc3Vic3RyaW5nKDEsIHRva2VuLmxlbmd0aCAtIDEpXG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKF90aGlzLm1ha2VTYWZlKHRva2VuKSwgYXJnc1trZXldIHx8ICcnKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xce1tefV0rP1xcfS9nLCBhcmdzKVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YXRpYyBtZXRob2Q6IFByb2Nlc3MgYSBsYW5ndWFnZSBmaWxlIGZyb20gcmF3IHRleHRcbiAgICogQHBhcmFtICB7U3RyaW5nfSByZXNwb25zZVxuICAgKiBAcmV0dXJuIHtPYmplY3R9IHByb2Nlc3NlZCBsYW5ndWFnZVxuICAgKi9cbiAgc3RhdGljIHByb2Nlc3NGaWxlKHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIEkxOE4uZnJvbUZpbGUocmVzcG9uc2UucmVwbGFjZSgvXFxuXFxuL2csICdcXG4nKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGF0aWMgbWV0aG9kOiBUdXJuIHJhdyB0ZXh0IGZyb20gdGhlIGxhbmd1YWdlIGZpbGVzIGludG8gZmFuY3kgSlNPTlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHJhd1RleHRcbiAgICogQHJldHVybiB7T2JqZWN0fSBjb252ZXJ0ZWQgbGFuZ3VhZ2UgZmlsZVxuICAgKi9cbiAgc3RhdGljIGZyb21GaWxlKHJhd1RleHQpIHtcbiAgICBjb25zdCBsaW5lcyA9IHJhd1RleHQuc3BsaXQoJ1xcbicpXG4gICAgY29uc3QgbGFuZyA9IHt9XG5cbiAgICBmb3IgKGxldCBtYXRjaGVzLCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCByZWdleCA9IC9eKC4rPykgKj89ICo/KFteXFxuXSspL1xuICAgICAgbWF0Y2hlcyA9IHJlZ2V4LmV4ZWMobGluZXNbaV0pXG4gICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICBsYW5nW21hdGNoZXNbMV1dID0gbWF0Y2hlc1syXS5yZXBsYWNlKC8oXlxccyt8XFxzKyQpL2csICcnKVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBsYW5nXG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhIHJlbW90ZWx5IHN0b3JlZCBsYW5ndWFnZSBmaWxlXG4gICAqIEBwYXJhbSAge1N0cmluZ30gbG9jYWxlXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IHVzZUNhY2hlXG4gICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgIHJlc29sdmVzIHJlc3BvbnNlXG4gICAqL1xuICBsb2FkTGFuZyhsb2NhbGUsIHVzZUNhY2hlID0gdHJ1ZSkge1xuICAgIGNvbnN0IF90aGlzID0gdGhpc1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBpZiAoX3RoaXMubG9hZGVkLmluZGV4T2YobG9jYWxlKSAhPT0gLTEgJiYgdXNlQ2FjaGUpIHtcbiAgICAgICAgX3RoaXMuYXBwbHlMYW5ndWFnZShfdGhpcy5sYW5nc1tsb2NhbGVdKVxuICAgICAgICByZXR1cm4gcmVzb2x2ZShfdGhpcy5sYW5nc1tsb2NhbGVdKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbGFuZ0ZpbGUgPSBbX3RoaXMuY29uZmlnLmxvY2F0aW9uLCBsb2NhbGUsIF90aGlzLmNvbmZpZy5leHRlbnNpb25dLmpvaW4oJycpXG4gICAgICAgIHJldHVybiBmZXRjaERhdGEobGFuZ0ZpbGUpXG4gICAgICAgICAgLnRoZW4obGFuZyA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzZWRGaWxlID0gSTE4Ti5wcm9jZXNzRmlsZShsYW5nKVxuICAgICAgICAgICAgX3RoaXMuYXBwbHlMYW5ndWFnZShsb2NhbGUsIHByb2Nlc3NlZEZpbGUpXG4gICAgICAgICAgICBfdGhpcy5sb2FkZWQucHVzaChsb2NhbGUpXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShfdGhpcy5sYW5nc1tsb2NhbGVdKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycilcbiAgICAgICAgICAgIGNvbnN0IGxhbmcgPSBfdGhpcy5hcHBseUxhbmd1YWdlKGxvY2FsZSlcbiAgICAgICAgICAgIHJlc29sdmUobGFuZylcbiAgICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogYXBwbGllcyBvdmVycmlkZXMgZnJvbSBjb25maWdcbiAgICogQHBhcmFtIHtTdHJpbmd9IGxvY2FsZVxuICAgKiBAcGFyYW0ge09iamVjdH0gbGFuZ1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IG92ZXJyaWRlbiBsYW5ndWFnZVxuICAgKi9cbiAgYXBwbHlMYW5ndWFnZShsb2NhbGUsIGxhbmcgPSB7fSkge1xuICAgIGNvbnN0IG92ZXJyaWRlID0gdGhpcy5jb25maWcub3ZlcnJpZGVbbG9jYWxlXSB8fCB7fVxuICAgIGNvbnN0IGV4aXN0aW5nTGFuZyA9IHRoaXMubGFuZ3NbbG9jYWxlXSB8fCB7fVxuICAgIHRoaXMubGFuZ3NbbG9jYWxlXSA9IHsgLi4uZXhpc3RpbmdMYW5nLCAuLi5sYW5nLCAuLi5vdmVycmlkZSB9XG4gICAgcmV0dXJuIHRoaXMubGFuZ3NbbG9jYWxlXVxuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybiBjdXJyZW50bHkgYXZhaWxhYmxlIGxhbmd1YWdlc1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IGFsbCBjb25maWd1cmVkIGxhbmd1YWdlc1xuICAgKi9cbiAgZ2V0IGdldExhbmdzKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5sYW5nc1xuICB9XG5cbiAgLyoqXG4gICAqIEF0dGVtcHQgdG8gc2V0IHRoZSBjdXJyZW50IGxhbmd1YWdlIHRvIHRoZSBsb2NhbCBwcm92aWRlZFxuICAgKiBAcGFyYW0ge1N0cmluZ30gICBsb2NhbGVcbiAgICogQHJldHVybiB7UHJvbWlzZX0gbGFuZ3VhZ2VcbiAgICovXG4gIGFzeW5jIHNldEN1cnJlbnQobG9jYWxlID0gJ2VuLVVTJykge1xuICAgIGF3YWl0IHRoaXMubG9hZExhbmcobG9jYWxlKVxuICAgIHRoaXMubG9jYWxlID0gbG9jYWxlXG4gICAgdGhpcy5jdXJyZW50ID0gdGhpcy5sYW5nc1tsb2NhbGVdXG5cbiAgICByZXR1cm4gdGhpcy5jdXJyZW50XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEkxOE4oKVxuIiwiY29uc3QgZGVmYXVsdE9wdGlvbnMgPSBPYmplY3QuZnJlZXplKHsgbWV0aG9kOiAnR0VUJywgYm9keTogJycgfSlcbi8qKlxuICogRmV0Y2hlcyBhIHJlc291cmNlIGZyb20gdGhlIG5ldHdvcmsuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBVUkwgdG8gZmV0Y2guXG4gKiBAcGFyYW0ge09iamVjdH0gW2ZldGNoT3B0aW9ucz17fV0gLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGZldGNoIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW2ZldGNoT3B0aW9ucy5oZWFkZXJzXSAtIEhlYWRlcnMgdG8gaW5jbHVkZSBpbiB0aGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbZmV0Y2hPcHRpb25zLm1ldGhvZF0gLSBUaGUgSFRUUCBtZXRob2QgdG8gdXNlIChlLmcuLCAnR0VUJywgJ1BPU1QnKS5cbiAqIEBwYXJhbSB7c3RyaW5nfEJ1ZmZlcn0gW2ZldGNoT3B0aW9ucy5ib2R5XSAtIFRoZSBib2R5IG9mIHRoZSByZXF1ZXN0LlxuICogQHJldHVybiB7UHJvbWlzZTxPYmplY3Q+fSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgcmVzcG9uc2Ugb2JqZWN0LlxuICogQHJldHVybiB7Ym9vbGVhbn0gcmV0dXJuLm9rIC0gSW5kaWNhdGVzIGlmIHRoZSByZXNwb25zZSBzdGF0dXMgaXMgaW4gdGhlIHJhbmdlIDIwMC0yOTkuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHJldHVybi5zdGF0dXMgLSBUaGUgSFRUUCBzdGF0dXMgY29kZSBvZiB0aGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHJldHVybi5zdGF0dXNUZXh0IC0gVGhlIEhUVFAgc3RhdHVzIG1lc3NhZ2Ugb2YgdGhlIHJlc3BvbnNlLlxuICogQHJldHVybiB7TWFwPHN0cmluZywgc3RyaW5nPn0gcmV0dXJuLmhlYWRlcnMgLSBUaGUgaGVhZGVycyBvZiB0aGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJuIHtCdWZmZXJ9IHJldHVybi5ib2R5IC0gVGhlIGJvZHkgb2YgdGhlIHJlc3BvbnNlIGFzIGEgQnVmZmVyLlxuICogQHJldHVybiB7ZnVuY3Rpb24oKTogUHJvbWlzZTxCdWZmZXI+fSByZXR1cm4uYXJyYXlCdWZmZXIgLSBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSBib2R5IGFzIGFuIEFycmF5QnVmZmVyLlxuICogQHJldHVybiB7ZnVuY3Rpb24oKTogUHJvbWlzZTxPYmplY3Q+fSByZXR1cm4uanNvbiAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgcHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIGJvZHkgcGFyc2VkIGFzIEpTT04uXG4gKi9cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoRGF0YSh1cmwpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybClcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgZXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YClcbiAgICB9XG4gICAgY29uc3QgaGFuZGxlciA9IHVybC5lbmRzV2l0aCgnLmxhbmcnKSA/ICd0ZXh0JyA6ICdqc29uJ1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZVtoYW5kbGVyXSgpXG4gICAgcmV0dXJuIGRhdGFcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdUaGVyZSBoYXMgYmVlbiBhIHByb2JsZW0gd2l0aCB5b3VyIGZldGNoIG9wZXJhdGlvbjonLCBlcnJvcilcbiAgICB0aHJvdyBlcnJvclxuICB9XG59XG4iXSwibmFtZXMiOlsiREVGQVVMVF9DT05GSUciLCJleHRlbnNpb24iLCJsb2NhdGlvbiIsImxhbmdzIiwibG9jYWxlIiwib3ZlcnJpZGUiLCJJMThOIiwiY29uc3RydWN0b3IiLCJvcHRpb25zIiwidGhpcyIsIk9iamVjdCIsImNyZWF0ZSIsImxvYWRlZCIsInByb2Nlc3NDb25maWciLCJyZXN0T3B0aW9ucyIsInBhcnNlZExvY2F0aW9uIiwicmVwbGFjZSIsImNvbmZpZyIsInByZWxvYWRlZCIsImFsbExhbmdzIiwiZW50cmllcyIsImNvbmNhdCIsInJlZHVjZSIsImFjYyIsImxhbmciLCJhcHBseUxhbmd1YWdlIiwiaW5pdCIsInNldEN1cnJlbnQiLCJhZGRMYW5ndWFnZSIsInByb2Nlc3NGaWxlIiwicHVzaCIsImdldFZhbHVlIiwia2V5IiwiX2EiLCJnZXRGYWxsYmFja1ZhbHVlIiwiZmFsbGJhY2tMYW5nIiwidmFsdWVzIiwiZmluZCIsIm1ha2VTYWZlIiwic3RyIiwibWFwT2JqIiwibWF0Y2hlZCIsIlJlZ0V4cCIsInB1dCIsInN0cmluZyIsImN1cnJlbnQiLCJnZXQiLCJhcmdzIiwiX3RoaXMiLCJ2YWx1ZSIsInRva2VucyIsIm1hdGNoIiwidG9rZW4iLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJyZXNwb25zZSIsImZyb21GaWxlIiwicmF3VGV4dCIsImxpbmVzIiwic3BsaXQiLCJtYXRjaGVzIiwiaSIsImV4ZWMiLCJsb2FkTGFuZyIsInVzZUNhY2hlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJpbmRleE9mIiwiYXN5bmMiLCJ1cmwiLCJmZXRjaCIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJoYW5kbGVyIiwiZW5kc1dpdGgiLCJlcnJvciIsImZldGNoRGF0YSIsImpvaW4iLCJ0aGVuIiwicHJvY2Vzc2VkRmlsZSIsImNhdGNoIiwiZXJyIiwiZXhpc3RpbmdMYW5nIiwiZ2V0TGFuZ3MiLCJtaTE4biJdLCJtYXBwaW5ncyI6IjRHQUVBLE1BQU1BLEVBQWlCLENBQ3JCQyxVQUFXLFFBRVhDLFNBQVUsZUFFVkMsTUFBTyxDQUFDLFNBQ1JDLE9BQVEsUUFDUkMsU0FBVSxDQUFFLEdBUVAsTUFBTUMsRUFLWCxXQUFBQyxDQUFZQyxFQUFVUixHQUNmUyxLQUFBTixNQUFlTyxPQUFBQyxPQUFPLE1BQzNCRixLQUFLRyxPQUFTLEdBQ2RILEtBQUtJLGNBQWNMLEVBQ3BCLENBTUQsYUFBQUssQ0FBY0wsR0FDTixNQUFBTixTQUFFQSxLQUFhWSxHQUFnQixJQUFLZCxLQUFtQlEsR0FDdkRPLEVBQWlCYixFQUFTYyxRQUFRLE9BQVEsS0FDaERQLEtBQUtRLE9BQVMsQ0FBRWYsU0FBVWEsS0FBbUJELEdBQzdDLE1BQU1ULFNBQUVBLEVBQVVhLFVBQUFBLEVBQVksQ0FBQSxHQUFPVCxLQUFLUSxPQUNwQ0UsRUFBV1QsT0FBT1UsUUFBUVgsS0FBS04sT0FBT2tCLE9BQU9YLE9BQU9VLFFBQVFmLEdBQVlhLElBQ3pFVCxLQUFBTixNQUFRZ0IsRUFBU0csUUFBTyxDQUFDQyxHQUFNbkIsRUFBUW9CLE1BQzFDRCxFQUFJbkIsR0FBVUssS0FBS2dCLGNBQWNyQixFQUFRb0IsR0FDbENELElBQ04sSUFDSGQsS0FBS0wsT0FBU0ssS0FBS1EsT0FBT2IsUUFBVUss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
